!function(){"use strict";function e(e){var t=document.getElementById("num-notifications");t&&e!=parseInt(t.innerText)&&(t.innerText=e)}var t=new Faye.Client(window.location.origin+"/socket",{timeout:120}),n=document.getElementById("notifications");t.addExtension({outgoing:function(e,t){return e.ext=e.ext||{},e.ext.key=user.key,t(e)}});var i=0;t.subscribe("/notify/"+user.username,function(t){var a="info";t.error&&(a="alert");var r='<div class="alert-box '+a+' radius notification">';t.path&&(r+='<a href="',r+=t.search?"search?search="+t.search+"&":"?",r+="path="+t.path+'">'),r+=t.message,t.path&&(r+="</a>"),r+="</div>";var o=document.createElement("li");o.innerHTML=r,e(t.num),i++,n.appendChild(o),setTimeout(function(){n.removeChild(o),i--},2e3+1e3*i)})}();